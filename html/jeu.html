<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Jeu</title>
    <link rel="stylesheet" href="../css/style.css">
    <script src="../js/jeu.js" defer></script>
</head>
<body>
    <h1>Jeu de tir</h1>

    <!-- Zone de jeu avec rampe de lancement et ligne de tir -->
    <div id="zoneDeJeu" style="position:relative; width:600px; height:400px; margin:auto; background-color:lightblue;">
        <div class="rampe" id="rampe" style="position:absolute; bottom:0; left:50%; width:50px; height:20px; background:black; transform:translateX(-50%);">
        </div>
        <div class="ligne" id="ligneTir"></div>
        <!-- TODO 1: Ajouter le dÃ©placement de la rampe avec les flÃ¨ches gauche/droite -->
        <!-- TODO 2: Ajouter l'orientation de la ligne de tir avec les touches K et L -->
    </div>

    <!-- Bouton de tir temporaire -->
    <button id="tirer">Tirer</button>

<!-- Zone pour afficher la touche appuyÃ©e -->
<div id="zoneTouche" style="margin-top:20px; text-align:center; font-weight:bold; color:blue;"></div>
    <!-- TODO 3: Remplacer ce bouton par la gestion du tir avec la flÃ¨che haut du clavier -->

    <!-- Instructions du jeu -->
    <div style="max-width:600px; margin:40px auto; padding:20px; border:1px solid #ccc; border-radius:8px; background-color:#f0f0f0;">
        <h2>Instructions du jeu</h2>
        <p>ğŸ¯ <strong>Orientation du tir</strong> : touche <kbd>K</kbd> (â†º) pour tourner Ã  gauche, <kbd>L</kbd> (â†») pour tourner Ã  droite.</p>
        <p>ğŸš¶â€â™‚ï¸ <strong>DÃ©placement</strong> : touches flÃ©chÃ©es gauche â¬…ï¸ et droite â¡ï¸ pour dÃ©placer la rampe.</p>
        <p>ğŸ¦ <strong>Tir</strong> : appuyer sur la flÃ¨che haut â¬†ï¸ pour tirer.</p>
        <!-- TODO 4: Ajouter l'apparition et le dÃ©placement des oiseaux dans la zone de jeu -->
        <!-- TODO 5: Ajouter la dÃ©tection de collision entre tir et cible -->
    </div>


<script src="../js/clavier.js" defer></script>

<script>
// TODO : Plus tard, dÃ©placer l'initialisation du clavier dans un fichier JS externe.
// Attention : ce script est temporaire et ne contient qu'une partie du code complet.
// Son but est uniquement de permettre Ã  la page de fonctionner sans gÃ©nÃ©rer d'erreur JavaScript pour l'instant.

window.addEventListener("DOMContentLoaded", () => {
  if (typeof plan !== "undefined") { 
    const gestionnaireClavier = new GestionnaireClavier(plan);
    gestionnaireClavier.activer();
  } else {
  // TEMPORAIRE pour afficher la touche pressÃ©e sans dÃ©pendre de plan
	document.addEventListener('keydown', function(e) {
	const zone = document.getElementById("zoneTouche");
	if (zone) {
		zone.textContent = "La touche appuyÃ©e est : " + e.key;
	}
	});
    console.warn("Plan n'est pas encore dÃ©fini. L'Ã©tudiant devra corriger jeu.js.");
  }
});
</script>

</body>
</html>